

<table class="gridtable">
  <tr>    
    <th>Date</th>
    <th>Worldwide work</th>
    <th>Kingdom hall construction worldwide</th>
    <th>Local congregation expenses</th>
    <th>Other 1</th>
    <th>Other 1 amount</th>
    <th>Other 1 for</th>
    <th>Other 2</th>
    <th>Other 2 amount</th>
    <th>Other 2 for</th>
    <th>Total</th>
    <th></th>
    <th></th>
    <th></th>
  </tr>

<% @receipts.each do |receipt| %>
  <tr>
    
    <td><%= best_in_place [@account, @accounting_period, receipt], :date, nil: '--' %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :worldwide_work, type: :input, nil: '--' %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :kingdom_hall_construction_worldwide, nil: '--' %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :local_congregation_expenses, nil: '--' %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :other_1, :type => :input, :nil => "--" %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :other_1_amount, :nil => '--' %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :other_1_for, type: :select, collection: contributions_for_list, nil: '--'  %></td>
    
    <td><%= best_in_place [@account, @accounting_period, receipt], :other_2, :type => :input, :nil => "--" %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :other_2_amount, :nil => '--' %></td>
    <td><%= best_in_place [@account, @accounting_period, receipt], :other_2_for, type: :select, collection: contributions_for_list, nil: '--'  %></td>
    <td><%= receipt.total %></td>
    <td><%= link_to 'Show', [receipt.accounting_period.account, receipt.accounting_period, receipt], :data => { :colorbox => true} %></td>
    <td><%= link_to 'Edit', edit_account_accounting_period_receipt_path(receipt.accounting_period.account, receipt.accounting_period, receipt), :data => { :colorbox => true } %></td>
    <td><%= link_to 'Destroy', [receipt.accounting_period.account, receipt.accounting_period, receipt], method: :delete, data: { confirm: 'Are you sure?' }, remote: true %></td>
  </tr>
<% end %>
</table>





<script type="text/javascript">
  $(function() {
    $('.best_in_place').bind("ajax:success", function(){
      $.get('<%= summary_account_accounting_period_path(@accounting_period.account, @accounting_period) -%>', function(data) {
        $('#accounting_period_summary').html(data);
      });
    })
  });
</script>
